# üîß –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å PostgreSQL –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## –°–ø–æ—Å–æ–± 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã (–ü—Ä–æ—Å—Ç–æ–π)

### 1Ô∏è‚É£ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
- `POSTGRESQL_SETUP.md`
- `database-postgres.js` 
- `database-selector.js`

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ package.json:
–î–æ–±–∞–≤—å—Ç–µ –≤ dependencies:
```json
"pg": "^8.16.3"
```

### 3Ô∏è‚É£ –ò–∑–º–µ–Ω–∏—Ç–µ telegram-bot-server.js:
**–°—Ç—Ä–æ–∫–∞ 10:** –ó–∞–º–µ–Ω–∏—Ç–µ:
```javascript
const Database = require('./database');
```
–ù–∞:
```javascript
const createDatabase = require('./database-selector');
```

**–°—Ç—Ä–æ–∫–∞ 379-380:** –ó–∞–º–µ–Ω–∏—Ç–µ:
```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
const db = new Database();
```
–ù–∞:
```javascript  
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä SQLite/PostgreSQL)
const db = createDatabase();
```

### 4Ô∏è‚É£ –ò–∑–º–µ–Ω–∏—Ç–µ admin-bot.js:
**–°—Ç—Ä–æ–∫–∞ 6:** –ó–∞–º–µ–Ω–∏—Ç–µ:
```javascript
const Database = require('./database');
```
–ù–∞:
```javascript
const createDatabase = require('./database-selector');
```

**–°—Ç—Ä–æ–∫–∞ 52:** –ó–∞–º–µ–Ω–∏—Ç–µ:
```javascript
const db = new Database();
```
–ù–∞:
```javascript
const db = createDatabase();
```

---

## –°–ø–æ—Å–æ–± 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞—Ç—á (–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª `postgresql-migration.patch`
2. –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
git apply postgresql-migration.patch
```

---

## üöÄ –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```bash
git add .
git commit -m "üêò –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É PostgreSQL –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞"
git push
```

2. **–ù–∞ Railway –¥–æ–±–∞–≤—å—Ç–µ PostgreSQL:**
   - New ‚Üí Database ‚Üí Add PostgreSQL
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç DATABASE_URL

3. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è "üêò –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL"

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   - ‚úÖ –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
   - ‚úÖ –ù–µ—Ç —Å–±—Ä–æ—Å–∞ –Ω–∞ 20 –∑–≤–µ–∑–¥ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞—Ö–æ–¥–µ